2023-07-28 19:33:25,650 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.barlo.investment_portfolio.service.DealServiceTest], using SpringBootContextLoader
2023-07-28 19:33:25,653 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.barlo.investment_portfolio.service.DealServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-07-28 19:33:25,653 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.barlo.investment_portfolio.service.DealServiceTest]: DealServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-28 19:33:25,701 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.barlo.investment_portfolio.InvestmentPortfolioApplication for test class com.barlo.investment_portfolio.service.DealServiceTest
2023-07-28 19:33:25,738 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2023-07-28 19:33:25,745 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@319bc845, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c5474f5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2f4205be, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@54e22bdd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3bd418e4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@544820b7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6b98a075, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2e61d218, org.springframework.test.context.event.EventPublishingTestExecutionListener@3569fc08, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@20b12f8a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@e84a8e1, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e554a3b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@54a67a45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7d42c224, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@56aaaecd]
2023-07-28 19:33:26,209 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-07-28 19:33:26,386 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-28 19:33:26,411 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 21 ms. Found 3 JPA repository interfaces.
2023-07-28 19:33:26,493 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=46498f7d-c097-3801-9ba5-c383e6370157
2023-07-28 19:33:26,601 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-28 19:33:26,671 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-28 19:33:26,751 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-28 19:33:26,787 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.7.Final
2023-07-28 19:33:26,849 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-07-28 19:33:26,897 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-07-28 19:33:27,162 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-28 19:33:27,165 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-28 19:33:27,441 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-28 19:33:27,678 INFO org.springframework.boot.StartupInfoLogger [main] Started DealServiceTest in 1.92 seconds (JVM running for 2.39)
2023-07-28 19:33:27,696 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@49c37918 testClass = DealServiceTest, testInstance = com.barlo.investment_portfolio.service.DealServiceTest@43de88f3, testMethod = getAllDeals@DealServiceTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@347c5721 testClass = DealServiceTest, locations = '{}', classes = '{class com.barlo.investment_portfolio.InvestmentPortfolioApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@31edaa7d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c3fdb62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4ea5b703, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3116c353, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@329dbdbf, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@34ce8af7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4a7ac98b]; rollback [true]
2023-07-28 19:33:27,792 INFO com.barlo.investment_portfolio.service.ServiceUtils [main] Finding all deals; Results: [Deal{id=5, dateTime=2023-01-01T00:01:01, price=2400.0, quantity=1, security id=3}, Deal{id=6, dateTime=2023-01-01T00:01:02, price=2399.0, quantity=1, security id=3}]
2023-07-28 19:33:27,795 INFO com.barlo.investment_portfolio.TestResults [main] 
getAllDeals                                64    SUCCESS ms

2023-07-28 19:33:27,801 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@49c37918 testClass = DealServiceTest, testInstance = com.barlo.investment_portfolio.service.DealServiceTest@43de88f3, testMethod = getAllDeals@DealServiceTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@347c5721 testClass = DealServiceTest, locations = '{}', classes = '{class com.barlo.investment_portfolio.InvestmentPortfolioApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@31edaa7d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c3fdb62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4ea5b703, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3116c353, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@329dbdbf, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@34ce8af7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2023-07-28 19:33:27,816 INFO com.barlo.investment_portfolio.service.ServiceUtils [main] Finding deal with id: 5; Results: Optional[Deal{id=5, dateTime=2023-01-01T00:01:01, price=2400.0, quantity=1, security id=3}]
2023-07-28 19:33:27,816 INFO com.barlo.investment_portfolio.TestResults [main] 
getById                                     4    SUCCESS ms

2023-07-28 19:33:27,825 INFO com.barlo.investment_portfolio.service.ServiceUtils [main] Finding deal with id: 8; Results: Not found.
2023-07-28 19:33:27,826 INFO com.barlo.investment_portfolio.TestResults [main] 
getByIdNoSuchElement                        2    SUCCESS ms

2023-07-28 19:33:27,828 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@49c37918 testClass = DealServiceTest, testInstance = com.barlo.investment_portfolio.service.DealServiceTest@43de88f3, testMethod = getAllDealsForSecurityByIdNotFound@DealServiceTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@347c5721 testClass = DealServiceTest, locations = '{}', classes = '{class com.barlo.investment_portfolio.InvestmentPortfolioApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@31edaa7d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c3fdb62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4ea5b703, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3116c353, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@329dbdbf, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@34ce8af7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4a7ac98b]; rollback [true]
2023-07-28 19:33:27,841 INFO com.barlo.investment_portfolio.service.ServiceUtils [main] Finding all deals with security id: 4; Results: Not found.
2023-07-28 19:33:27,841 INFO com.barlo.investment_portfolio.TestResults [main] 
getAllDealsForSecurityByIdNotFound          8    SUCCESS ms

2023-07-28 19:33:27,842 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@49c37918 testClass = DealServiceTest, testInstance = com.barlo.investment_portfolio.service.DealServiceTest@43de88f3, testMethod = getAllDealsForSecurityByIdNotFound@DealServiceTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@347c5721 testClass = DealServiceTest, locations = '{}', classes = '{class com.barlo.investment_portfolio.InvestmentPortfolioApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@31edaa7d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c3fdb62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4ea5b703, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3116c353, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@329dbdbf, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@34ce8af7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2023-07-28 19:33:27,843 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@49c37918 testClass = DealServiceTest, testInstance = com.barlo.investment_portfolio.service.DealServiceTest@43de88f3, testMethod = getAllDealsForSecurityById@DealServiceTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@347c5721 testClass = DealServiceTest, locations = '{}', classes = '{class com.barlo.investment_portfolio.InvestmentPortfolioApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@31edaa7d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c3fdb62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4ea5b703, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3116c353, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@329dbdbf, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@34ce8af7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4a7ac98b]; rollback [true]
2023-07-28 19:33:27,857 INFO com.barlo.investment_portfolio.service.ServiceUtils [main] Finding all deals with security id: 3; Results: [Deal{id=5, dateTime=2023-01-01T00:01:01, price=2400.0, quantity=1, security id=3}, Deal{id=6, dateTime=2023-01-01T00:01:02, price=2399.0, quantity=1, security id=3}]
2023-07-28 19:33:27,857 INFO com.barlo.investment_portfolio.TestResults [main] 
getAllDealsForSecurityById                  1    SUCCESS ms

2023-07-28 19:33:27,859 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@49c37918 testClass = DealServiceTest, testInstance = com.barlo.investment_portfolio.service.DealServiceTest@43de88f3, testMethod = getAllDealsForSecurityById@DealServiceTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@347c5721 testClass = DealServiceTest, locations = '{}', classes = '{class com.barlo.investment_portfolio.InvestmentPortfolioApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@31edaa7d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c3fdb62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4ea5b703, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3116c353, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@329dbdbf, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@34ce8af7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2023-07-28 19:33:27,860 INFO com.barlo.investment_portfolio.TestResults [main] 
---------------------------------------------------------
Test                              Duration, ms    Result
---------------------------------------------------------
getAllDeals                                64    SUCCESS
getById                                     4    SUCCESS
getByIdNoSuchElement                        2    SUCCESS
getAllDealsForSecurityByIdNotFound          8    SUCCESS
getAllDealsForSecurityById                  1    SUCCESS
---------------------------------------------------------
2023-07-28 19:33:27,864 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-28 19:33:27,864 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2023-07-28 19:33:27,865 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [SpringApplicationShutdownHook] SQL Error: 90121, SQLState: 90121
2023-07-28 19:33:27,865 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [SpringApplicationShutdownHook] База данных уже закрыта (чтобы отключить автоматическое закрытие базы данных при останове JVM, добавьте ";DB_CLOSE_ON_EXIT=FALSE" в URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2023-07-28 19:33:27,865 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [SpringApplicationShutdownHook] SQL Error: 90121, SQLState: 90121
2023-07-28 19:33:27,865 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [SpringApplicationShutdownHook] База данных уже закрыта (чтобы отключить автоматическое закрытие базы данных при останове JVM, добавьте ";DB_CLOSE_ON_EXIT=FALSE" в URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2023-07-28 19:33:27,865 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [SpringApplicationShutdownHook] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2023-07-28 19:33:27,866 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-28 19:33:27,867 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-28 19:34:01,495 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.barlo.investment_portfolio.service.DealServiceTest], using SpringBootContextLoader
2023-07-28 19:34:01,498 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.barlo.investment_portfolio.service.DealServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-07-28 19:34:01,498 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.barlo.investment_portfolio.service.DealServiceTest]: DealServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-28 19:34:01,546 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.barlo.investment_portfolio.InvestmentPortfolioApplication for test class com.barlo.investment_portfolio.service.DealServiceTest
2023-07-28 19:34:01,585 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2023-07-28 19:34:01,591 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@319bc845, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c5474f5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2f4205be, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@54e22bdd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3bd418e4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@544820b7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6b98a075, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2e61d218, org.springframework.test.context.event.EventPublishingTestExecutionListener@3569fc08, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@20b12f8a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@e84a8e1, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e554a3b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@54a67a45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7d42c224, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@56aaaecd]
2023-07-28 19:34:01,872 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-07-28 19:34:02,050 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-28 19:34:02,072 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2023-07-28 19:34:02,154 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=46498f7d-c097-3801-9ba5-c383e6370157
2023-07-28 19:34:02,252 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-28 19:34:02,326 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-28 19:34:02,405 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-28 19:34:02,442 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.7.Final
2023-07-28 19:34:02,501 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-07-28 19:34:02,549 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-07-28 19:34:02,813 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-28 19:34:02,816 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-28 19:34:03,080 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-28 19:34:03,315 INFO org.springframework.boot.StartupInfoLogger [main] Started DealServiceTest in 1.71 seconds (JVM running for 2.182)
2023-07-28 19:34:03,333 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@57df93c1 testClass = DealServiceTest, testInstance = com.barlo.investment_portfolio.service.DealServiceTest@72998021, testMethod = getAllDeals@DealServiceTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@761a0bbd testClass = DealServiceTest, locations = '{}', classes = '{class com.barlo.investment_portfolio.InvestmentPortfolioApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@31edaa7d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c3fdb62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4ea5b703, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3116c353, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@329dbdbf, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@34ce8af7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ecfff32]; rollback [true]
2023-07-28 19:34:03,422 INFO com.barlo.investment_portfolio.service.ServiceUtils [main] Finding all deals; Results: [Deal{id=5, dateTime=2023-01-01T00:01:01, price=2400.0, quantity=1, security id=3}, Deal{id=6, dateTime=2023-01-01T00:01:02, price=2399.0, quantity=1, security id=3}]
2023-07-28 19:34:03,424 INFO com.barlo.investment_portfolio.TestResults [main] 
getAllDeals                                66    SUCCESS ms

2023-07-28 19:34:03,430 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@57df93c1 testClass = DealServiceTest, testInstance = com.barlo.investment_portfolio.service.DealServiceTest@72998021, testMethod = getAllDeals@DealServiceTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@761a0bbd testClass = DealServiceTest, locations = '{}', classes = '{class com.barlo.investment_portfolio.InvestmentPortfolioApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@31edaa7d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c3fdb62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4ea5b703, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3116c353, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@329dbdbf, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@34ce8af7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2023-07-28 19:34:03,443 INFO com.barlo.investment_portfolio.service.ServiceUtils [main] Finding deal with id: 5; Results: Optional[Deal{id=5, dateTime=2023-01-01T00:01:01, price=2400.0, quantity=1, security id=3}]
2023-07-28 19:34:03,444 INFO com.barlo.investment_portfolio.TestResults [main] 
getById                                     4    SUCCESS ms

2023-07-28 19:34:03,453 INFO com.barlo.investment_portfolio.service.ServiceUtils [main] Finding deal with id: 8; Results: Not found.
2023-07-28 19:34:03,453 INFO com.barlo.investment_portfolio.TestResults [main] 
getByIdNoSuchElement                        1    SUCCESS ms

2023-07-28 19:34:03,455 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@57df93c1 testClass = DealServiceTest, testInstance = com.barlo.investment_portfolio.service.DealServiceTest@72998021, testMethod = getAllDealsForSecurityByIdNotFound@DealServiceTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@761a0bbd testClass = DealServiceTest, locations = '{}', classes = '{class com.barlo.investment_portfolio.InvestmentPortfolioApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@31edaa7d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c3fdb62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4ea5b703, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3116c353, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@329dbdbf, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@34ce8af7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ecfff32]; rollback [true]
2023-07-28 19:34:03,468 INFO com.barlo.investment_portfolio.service.ServiceUtils [main] Finding all deals with security id: 4; Results: Not found.
2023-07-28 19:34:03,468 INFO com.barlo.investment_portfolio.TestResults [main] 
getAllDealsForSecurityByIdNotFound          7    SUCCESS ms

2023-07-28 19:34:03,469 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@57df93c1 testClass = DealServiceTest, testInstance = com.barlo.investment_portfolio.service.DealServiceTest@72998021, testMethod = getAllDealsForSecurityByIdNotFound@DealServiceTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@761a0bbd testClass = DealServiceTest, locations = '{}', classes = '{class com.barlo.investment_portfolio.InvestmentPortfolioApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@31edaa7d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c3fdb62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4ea5b703, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3116c353, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@329dbdbf, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@34ce8af7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2023-07-28 19:34:03,470 INFO org.springframework.test.context.transaction.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@57df93c1 testClass = DealServiceTest, testInstance = com.barlo.investment_portfolio.service.DealServiceTest@72998021, testMethod = getAllDealsForSecurityById@DealServiceTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@761a0bbd testClass = DealServiceTest, locations = '{}', classes = '{class com.barlo.investment_portfolio.InvestmentPortfolioApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@31edaa7d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c3fdb62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4ea5b703, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3116c353, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@329dbdbf, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@34ce8af7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@ecfff32]; rollback [true]
2023-07-28 19:34:03,475 INFO com.barlo.investment_portfolio.service.ServiceUtils [main] Finding all deals with security id: 3; Results: [Deal{id=5, dateTime=2023-01-01T00:01:01, price=2400.0, quantity=1, security id=3}, Deal{id=6, dateTime=2023-01-01T00:01:02, price=2399.0, quantity=1, security id=3}]
2023-07-28 19:34:03,476 INFO com.barlo.investment_portfolio.TestResults [main] 
getAllDealsForSecurityById                  2    SUCCESS ms

2023-07-28 19:34:03,483 INFO org.springframework.test.context.transaction.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@57df93c1 testClass = DealServiceTest, testInstance = com.barlo.investment_portfolio.service.DealServiceTest@72998021, testMethod = getAllDealsForSecurityById@DealServiceTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@761a0bbd testClass = DealServiceTest, locations = '{}', classes = '{class com.barlo.investment_portfolio.InvestmentPortfolioApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@31edaa7d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c3fdb62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4ea5b703, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3116c353, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@329dbdbf, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@34ce8af7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2023-07-28 19:34:03,484 INFO com.barlo.investment_portfolio.TestResults [main] 
---------------------------------------------------------
Test                              Duration, ms    Result
---------------------------------------------------------
getAllDeals                                66    SUCCESS
getById                                     4    SUCCESS
getByIdNoSuchElement                        1    SUCCESS
getAllDealsForSecurityByIdNotFound          7    SUCCESS
getAllDealsForSecurityById                  2    SUCCESS
---------------------------------------------------------
2023-07-28 19:34:03,487 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-28 19:34:03,487 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2023-07-28 19:34:03,488 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [SpringApplicationShutdownHook] SQL Error: 90121, SQLState: 90121
2023-07-28 19:34:03,489 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [SpringApplicationShutdownHook] База данных уже закрыта (чтобы отключить автоматическое закрытие базы данных при останове JVM, добавьте ";DB_CLOSE_ON_EXIT=FALSE" в URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2023-07-28 19:34:03,489 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [SpringApplicationShutdownHook] SQL Error: 90121, SQLState: 90121
2023-07-28 19:34:03,489 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [SpringApplicationShutdownHook] База данных уже закрыта (чтобы отключить автоматическое закрытие базы данных при останове JVM, добавьте ";DB_CLOSE_ON_EXIT=FALSE" в URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2023-07-28 19:34:03,489 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [SpringApplicationShutdownHook] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2023-07-28 19:34:03,489 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-28 19:34:03,490 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
